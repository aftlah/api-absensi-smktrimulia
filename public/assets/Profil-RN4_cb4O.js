import{j as e}from"./query-vendor-CL32O2jR.js";import{b as j,B as i,U as t,S as m,f}from"./admin-pages-D9Ei6UCr.js";import{r as l}from"./router-vendor-CjMceo_z.js";import{S as N}from"./ui-vendor-DAzBgmXi.js";import"./utils-vendor-BmMXCZbk.js";import"./react-vendor-BZoW56qi.js";function B(){const{user:r,logout:c}=j(),[s,x]=l.useState(null),[o,d]=l.useState(!1),[n,h]=l.useState(null);l.useEffect(()=>{(async()=>{try{d(!0);const b=(await f.profile())?.data?.responseData??null;x(b)}catch{h("Gagal memuat profil")}finally{d(!1)}})()},[]);const u=()=>{N.fire({title:"Keluar dari akun?",text:"Anda akan mengakhiri sesi dan kembali ke halaman login.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, keluar",cancelButtonText:"Batal",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",reverseButtons:!0}).then(a=>{a.isConfirmed&&c()})};return o&&!s?e.jsx("div",{className:"min-h-screen bg-gray-50 pb-20",children:e.jsxs("div",{className:"mx-auto max-w-md",children:[e.jsx("div",{className:"px-4 pt-8 pb-6 bg-gradient-to-br from-[#4A90E2] to-[#357ABD]",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"h-8 bg-white bg-opacity-20 rounded w-32 mx-auto mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-white bg-opacity-20 rounded w-24 mx-auto animate-pulse"})]})}),e.jsxs("main",{className:"px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100 animate-pulse",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 mx-auto mb-4"}),e.jsx("div",{className:"h-7 bg-gray-200 rounded w-40 mx-auto mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20 mx-auto"})]}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 mb-2"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-32"})]})]},a))})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[1,2].map(a=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 border border-gray-100 text-center animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 mx-auto mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-12 mx-auto mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16 mx-auto"})]},a))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100 animate-pulse",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 mr-3"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-40"})]}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(a=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]},a))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100 animate-pulse",children:e.jsx("div",{className:"h-12 bg-gray-200 rounded-xl w-full"})})]}),e.jsx(i,{})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 pb-20",children:e.jsxs("div",{className:"mx-auto max-w-md",children:[e.jsx("div",{className:"px-4 pt-8 pb-6 bg-gradient-to-br from-[#4A90E2] to-[#357ABD]",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:"Profil Saya"}),e.jsx("p",{className:"text-sm opacity-90",children:"SMK Trimulia"})]})}),e.jsxs("main",{className:"px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-tr from-[#4A90E2] to-[#357ABD] flex items-center justify-center text-white font-bold text-2xl mx-auto mb-4 shadow-lg",children:(s?.nama||r?.nama||r?.username||"S").charAt(0).toUpperCase()}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:s?.nama||r?.nama||"-"}),e.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700",children:[e.jsx(t,{className:"w-4 h-4 mr-1"}),"Siswa"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center mr-4",children:e.jsx(t,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Username"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:s?.username||r?.username||"-"})]})]}),e.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mr-4",children:e.jsx(t,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Nama Lengkap"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:s?.nama||r?.nama||"-"})]})]}),r?.kelas?.nama&&e.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-gray-50 border border-gray-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center mr-4",children:e.jsx(m,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Kelas"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:r.kelas.nama})]})]}),e.jsxs("div",{className:"flex items-center p-4 rounded-xl bg-green-50 border border-green-100",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center mr-4",children:e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Status"}),e.jsx("p",{className:"text-green-700 font-semibold",children:"Aktif"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center mr-3",children:e.jsx(m,{className:"w-5 h-5 text-indigo-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informasi Siswa"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Kelas"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s?.kelas?.tingkat||"-"," ",s?.kelas?.jurusan?.nama_jurusan||""," ",s?.kelas?.paralel||""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Wali Kelas"}),e.jsx("span",{className:"font-medium text-gray-900",children:s?.kelas?.walas?.nama||"-"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aktif"})]})]})]}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 text-red-600 mr-2",children:"⚠️"}),e.jsx("p",{className:"text-red-700 font-medium",children:n})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:e.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center px-4 py-3 bg-red-600 text-white rounded-xl font-semibold hover:bg-red-700 transition-colors duration-200 shadow-sm",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Keluar"]})})]}),e.jsx(i,{})]})})}export{B as default};
